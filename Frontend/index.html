<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Aggressive favicon block: -->
    <link rel="icon" type="image/png" sizes="32x32" href="/avatars/image.png" />
    <link rel="shortcut icon" type="image/png" href="/avatars/Vecem1.ico" />
    <link rel="apple-touch-icon" href="/avatars/Vecem.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Vecem</title>
    <!-- Environment variables runtime injection -->
    <script>
      window.__ENV__ = {
        VITE_API_BASE_URL: "%VITE_API_BASE_URL%",
        VITE_FIREBASE_API_KEY: "%VITE_FIREBASE_API_KEY%",
        VITE_FIREBASE_AUTH_DOMAIN: "%VITE_FIREBASE_AUTH_DOMAIN%",
        VITE_FIREBASE_PROJECT_ID: "%VITE_FIREBASE_PROJECT_ID%",
        VITE_FIREBASE_STORAGE_BUCKET: "%VITE_FIREBASE_STORAGE_BUCKET%",
        VITE_FIREBASE_MESSAGING_SENDER_ID:
          "%VITE_FIREBASE_MESSAGING_SENDER_ID%",
        VITE_FIREBASE_APP_ID: "%VITE_FIREBASE_APP_ID%",
        VITE_FIREBASE_MEASUREMENT_ID: "%VITE_FIREBASE_MEASUREMENT_ID%",
        VITE_ENCRYPTION_KEY: "%VITE_ENCRYPTION_KEY%",
      };

      // Convert placeholder strings to null if they weren't replaced
      Object.keys(window.__ENV__).forEach((key) => {
        if (
          window.__ENV__[key].startsWith("%") &&
          window.__ENV__[key].endsWith("%")
        ) {
          window.__ENV__[key] = null;
        }
      });

      // Set default API URL if not specified
      if (!window.__ENV__.VITE_API_BASE_URL) {
        window.__ENV__.VITE_API_BASE_URL =
          "https://vecem-fkhdbxcpcrhscmge.centralindia-01.azurewebsites.net";
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
